.\" Text automatically generated by txt2man
.TH rbh-find 1 "10 November 2015" "" "Robinhood 2.99"
.SH NAME
\fBrbh-find \fP- find clone that query robinhood DB
.SH SYNOPSIS
.nf
.fam C
  \fBrbh-find\fP [\fIoptions\fP] [path|fid]\.\.\.

.fam T
.fi
.fam T
.fi
.SH FILTERS

-user \fIuser\fP
.PP
-group \fIgroup\fP
.PP
\fB-nouser\fP
.PP
\fB-nogroup\fP
.TP
.B
-type \fItype\fP
\(cqf' (file), 'd' (dir), 'l' (symlink), 'b' (block), 'c' (char), 'p' (named pipe/FIFO), 's' (socket)
.TP
.B
\fB-size\fP \fIsize_crit\fP
[-|+]<val>[K|M|G|T]
.PP
\fB-name\fP \fIfilename\fP
.TP
.B
\fB-crtime\fP \fItime_crit\fP
[-|+]<val>[s|m|h|d|y] (s: sec, m: min, h: hour, d:day, y:year. default unit is days)
.TP
.B
\fB-mtime\fP \fItime_crit\fP
[-|+]<val>[s|m|h|d|y] (s: sec, m: min, h: hour, d:day, y:year. default unit is days)
.TP
.B
\fB-mmin\fP \fIminute_crit\fP
same as '\fB-mtime\fP Nm'
.TP
.B
\fB-msec\fP \fIsecond_crit\fP
same as '\fB-mtime\fP Ns'
.TP
.B
\fB-atime\fP \fItime_crit\fP
[-|+]<val>[s|m|h|d|y] (s: sec, m: min, h: hour, d:day, y:year. default unit is days)
.TP
.B
\fB-amin\fP \fIminute_crit\fP
same as '\fB-atime\fP Nm'
.PP
\fB-ost\fP \fIost_index\fP
.PP
\fB-pool\fP ost_pool
.PP
-status status_name:status_value
.TP
.B
\fB-not\fP, -!
Negate next argument
.SH OUTPUT OPTIONS

.TP
.B
\fB-ls\fP
Display attributes
.TP
.B
\fB-lsost\fP
Display OST information
.TP
.B
\fB-lsclass\fP
Display fileclass information
.TP
.B
\fB-lsstatus\fP[=policy]
Display \fIstatus\fP information (optionally: only for the given policy).
.TP
.B
\fB-print\fP
Display the fullpath of matching entries (this is the default, unless \fB-ls\fP, \fB-lsost\fP or \fB-exec\fP are used).
.TP
.B
\fB-printf\fP
Format string to display the matching entries.
The supported escapes and directives are a subset of those of `find`,
with some Robinhood additions prefixed with %R:
.RS
.IP %%
Escapes %
.IP %A
Robinhood’s "last access time", which is a compound of
the file's atime and mtime, unless the global configuration
\fBlast_access_only_atime\fP is set, in which case it is exactly the
atime of the file.

An \fBstrftime\fP(1) directive must be added. For example: \fB%Ap
%AT\fP. This option can also take an strftime format option between
brackets. For instance: \fB%A{%A, %B %dth, %Y %F}\fP.
.IP %b
Number of blocks
.IP %d
Depth
.IP %f
File name, without its path
.IP %g
Group name
.IP %M
File mode as a string, similar to the output of `ls`
.IP %m
File mode in octal
.IP %n
Number of hard links
.IP %p
Full file name
.IP %s
File size
.IP %T
Robinhood’s "modification time", which is the file's mtime.
.IP %u
File owner
.IP %Y
Full file type (file, dir, fifo, ...)
.IP %y
File type as one letter (f, d, p, ...)
.IP %RC
Robinhood’s "creation time", which is the oldest ctime seen for that
file. It is always lesser or equal to the current ctime of the file.

An \fBstrftime\fP(1) directive must be added. For example: \fB%RCc\fP.
This option can also take an strftime format option between curly
brackets. For instance: \fB%RC{%A, %B %dth, %Y %F}\fP.
.IP %Rc
File class
.IP %Rf
Lustre FID
.IP %Rm
Status manager module attribute, with the name specified between curly
bracket. The name is the status manager module name, followed by a
dot, followed by the attribute name. For example:
\fB%Rm{lhsm.archive_id}\fP.
.IP %Ro
Lustre OSTS
.IP %Rp
Lustre parent FID

An \fBstrftime\fP(1) directive must be added. For example: \fB%TA
%Tp %TT\fP.  This option can also take an strftime format option
between brackets. For instance: \fB%T{%A, %B %dth, %Y %F}\fP.
.IP \e\e
Escapes \\
.IP \en
Newline
.IP \et
Tab
.SH ACTIONS

.TP
.B
\fB-exec\fP "cmd"
Execute the given command for each matching entry. Unlike classical 'find',
cmd must be a single (quoted) shell param, not necessarily terminated with ';'.
\(cq{}' is replaced by the entry path. Example: \fB-exec\fP 'md5sum {}'
.SH BEHAVIOR

.TP
.B
\fB-nobulk\fP
When running \fBrbh-find\fP on the filesystem root, \fBrbh-find\fP automatically switches
to bulk DB request instead of browsing the namespace from the DB.
This speeds up the query, but this may result in an arbitrary output ordering,
and a single path may be displayed in case of multiple hardlinks.
Use \fB-nobulk\fP to disable this optimization.
.SH PROGRAM OPTIONS

\fB-f\fP \fIconfig_file\fP
.TP
.B
\fB-d\fP \fIlog_level\fP
CRIT, MAJOR, EVENT, VERB, DEBUG, FULL
.TP
.B
\fB-h\fP, \fB--help\fP
Display a short help about command line \fIoptions\fP.
.TP
.B
\fB-V\fP, \fB--version\fP
Display version info
.SH SEE ALSO
\fBrobinhood\fP(1), \fBrbh-report\fP(1), \fBrbh-du\fP(1), \fBrbh-diff\fP(1)
