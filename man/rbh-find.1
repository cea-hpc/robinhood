.\" Text automatically generated by txt2man
.TH rbh-find 1 "07 July 2016" "" "Robinhood 3.0"
.SH NAME
\fBrbh-find \fP- find clone that query robinhood DB
.SH SYNOPSIS
.nf
.fam C
  \fBrbh-find\fP [\fIoptions\fP] [path|fid]\.\.\.

.fam T
.fi
.fam T
.fi
.SH FILTERS

-user \fIuser\fP
.PP
-group \fIgroup\fP
.PP
\fB-nouser\fP
.PP
\fB-nogroup\fP
.TP
.B
-type \fItype\fP
\(cqf' (file), 'd' (dir), 'l' (symlink), 'b' (block), 'c' (char), 'p' (named pipe/FIFO), 's' (socket)
.TP
.B
\fB-size\fP \fIsize_crit\fP
[-|+]<val>[K|M|G|T]
.PP
\fB-name\fP \fIfilename\fP
.TP
.B
\fB-crtime\fP \fItime_crit\fP
[-|+]<val>[s|m|h|d|y] (s: sec, m: min, h: hour, d:day, y:year. default unit is days)
.TP
.B
\fB-ctime\fP \fItime_crit\fP
[-|+]<val>[s|m|h|d|y] (s: sec, m: min, h: hour, d:day, y:year. default unit is days)
.TP
.B
\fB-mtime\fP \fItime_crit\fP
[-|+]<val>[s|m|h|d|y] (s: sec, m: min, h: hour, d:day, y:year. default unit is days)
.TP
.B
\fB-mmin\fP \fIminute_crit\fP
same as '\fB-mtime\fP Nm'
.TP
.B
\fB-msec\fP \fIsecond_crit\fP
same as '\fB-mtime\fP Ns'
.TP
.B
\fB-atime\fP \fItime_crit\fP
[-|+]<val>[s|m|h|d|y] (s: sec, m: min, h: hour, d:day, y:year. default unit is days)
.TP
.B
\fB-amin\fP \fIminute_crit\fP
same as '\fB-atime\fP Nm'
.PP
\fB-links\fP \fIcount\fP
.PP
\fB-ost\fP \fIost_index\fP
.PP
\fB-pool\fP ost_pool
.PP
-status status_name:status_value
.TP
.B
\fB-not\fP, -!
Negate next argument
.SH OUTPUT OPTIONS

.TP
.B
\fB-ls\fP
Display attributes
.TP
.B
\fB-lsost\fP
Display OST information
.TP
.B
\fB-lsclass\fP
Display fileclass information
.TP
.B
\fB-lsstatus\fP[=policy]
Display \fIstatus\fP information (optionally: only for the given policy).
.TP
.B
\fB-print\fP
Display the fullpath of matching entries (this is the default, unless \fB-ls\fP, \fB-lsost\fP or \fB-exec\fP are used).
.TP
.B
\fB-printf\fP
Format string to display the matching entries.
The supported escapes and directives are a subset of those of `find`,
with some Robinhood additions prefixed with %R:
.RS
.TP
.B
%%
Escapes %
.TP
.B
%A
Robinhood’s "last access time", which is a compound of the file's atime and mtime, unless the global configuration last_access_only_atime is set, in which case it is exactly the atime of the file. An \fBstrftime\fP(1) directive must be added. For example: %Ap %AT. This option can also take an strftime format option between brackets. For instance: %A{%A, %B %dth, %Y %F}.
.TP
.B
%b
Number of blocks
.TP
.B
%C
Robinhood’s "last MD change" which is the ctime of the file.
.TP
.B
%d
Depth
.TP
.B
%f
File name, without its path
.TP
.B
%g
Group name
.TP
.B
%M
File mode as a string, similar to the output of `ls`
.TP
.B
%m
File mode in octal
.TP
.B
%n
Number of hard links
.TP
.B
%p
Full file name
.TP
.B
%s
File size
.TP
.B
%T
Robinhood’s "modification time", which is the file's mtime.
.TP
.B
%u
File owner
.TP
.B
%Y
Full file \fItype\fP (file, dir, fifo, \.\.\.)
.TP
.B
%y
File \fItype\fP as one letter (f, d, p, \.\.\.)
.TP
.B
%RC
Robinhood’s "creation time", which is the oldest ctime seen for that file. It is always lesser or equal to the current ctime of the file. When Lustre changelogs are used, "creation time" is really the creation time. An \fBstrftime\fP(1) directive must be added. For example: %RCc. This option can also take an strftime format option between curly brackets. For instance: %RC{%A, %B %dth, %Y %F}.
.TP
.B
%Rc
File class
.TP
.B
%Rf
Lustre FID
.TP
.B
%Rm
Status manager module attribute, with the name specified between curly bracket. The name is the \fIstatus\fP manager module name, followed by a dot, followed by the attribute name. For example: %Rm{lhsm.archive_id}.
.TP
.B
%Ro
Lustre OSTS
.TP
.B
%Rp
Lustre parent FID
.TP
.B
\\\\
Escapes \\
.TP
.B
\\n
Newline
.TP
.B
\\t
Tab
.TP
.B
\\NNN
Byte with octal value NNN (1 to 3 digits)
.TP
.B
\\xHH
Byte with hexadecimal value HH (1 to 2 digits)
.RE
.TP
.B
\fB-escaped\fP
When \fB-printf\fP is used, escape unprintable characters.
.TP
.B
\fB-print0\fP
Print file name followed by a null character. Same as \fB -printf "%p\\0"\fP
.SH ACTIONS

.TP
.B
\fB-exec\fP "cmd"
Execute the given command for each matching entry. Unlike classical 'find',
cmd must be a single (quoted) shell param, not necessarily terminated with ';'.
\(cq{}' is replaced by the entry path. Example: \fB-exec\fP 'md5sum {}'
.SH BEHAVIOR

.TP
.B
\fB-nobulk\fP
When running \fBrbh-find\fP on the filesystem root, \fBrbh-find\fP automatically switches
to bulk DB request instead of browsing the namespace from the DB.
This speeds up the query, but this may result in an arbitrary output ordering,
and a single path may be displayed in case of multiple hardlinks.
Use \fB-nobulk\fP to disable this optimization.
.SH PROGRAM OPTIONS

\fB-f\fP \fIconfig_file\fP
.TP
.B
\fB-d\fP \fIlog_level\fP
CRIT, MAJOR, EVENT, VERB, DEBUG, FULL
.TP
.B
\fB-h\fP, \fB--help\fP
Display a short help about command line \fIoptions\fP.
.TP
.B
\fB-V\fP, \fB--version\fP
Display version info
.SH SEE ALSO
\fBrobinhood\fP(1), \fBrbh-report\fP(1), \fBrbh-du\fP(1), \fBrbh-diff\fP(1)
