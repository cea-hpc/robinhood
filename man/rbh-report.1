.\" Text automatically generated by txt2man
.TH rbh-report 1 "10 November 2015" "" "Robinhood 2.99"
.SH NAME
\fBrbh-report \fP- querying command for robinhood policy engine
.SH SYNOPSIS
.nf
.fam C
  \fBrbh-report\fP [\fIoptions\fP]

.fam T
.fi
.fam T
.fi
.SH AVAILABLE STATS

.TP
.B
\fB--activity\fP, \fB-a\fP
Display stats about daemon activity.
.TP
.B
\fB--fs-info\fP, \fB-i\fP
Display statistics about filesystem contents.
.TP
.B
\fB--class-info\fP[=\fIclass_expr\fP]
Display Fileclasses summary. Use optional parameter \fIclass_expr\fP
for retrieving stats about matching fileclasses.
.TP
.B
\fB--status-info\fP \fIstatus_name\fP[:\fIstatus_value\fP]
Display status summary for the given policy or status name.
Optionally filter on \fIstatus_value\fP.
.TP
.B
\fB--entry-info\fP \fIpath\fP|\fIid\fP, \fB-e\fP \fIpath\fP|\fIid\fP
Display all information about the given entry.
.TP
.B
\fB--user-info\fP[=\fIusername\fP], \fB-u\fP \fIusername\fP
Display user statistics. Use optional parameter \fIusername\fP for retrieving stats about a single user.
.TP
.B
\fB--group-info\fP[=\fIgroupname\fP], \fB-g\fP \fIgroupname\fP
Display group statistics. Use optional parameter \fIgroupname\fP for retrieving stats about a single group.
.TP
.B
\fB--top-dirs\fP[=\fIcnt\fP], \fB-d\fP \fIcnt\fP
Display largest directories. Optional argument indicates the number of directories to be returned (default: 20).
.TP
.B
\fB--top-size\fP[=\fIcnt\fP], \fB-s\fP \fIcnt\fP
Display largest files. Optional argument indicates the number of files to be returned (default: 20).
.TP
.B
\fB--top-users\fP[=\fIcnt\fP], \fB-U\fP \fIcnt\fP
Display top disk space consumers. Optional argument indicates the number of users to be returned (default: 20).
.TP
.B
\fB--oldest-files\fP[=\fIcnt\fP], \fB-o\fP \fIcnt\fP
Display oldest files in the filesystem (ordered by access time).
Optional argument indicates the number of entries to be displayed (default: 20).
Tip: use '\fB--reverse\fP' option to display newest files.
.TP
.B
\fB--oldest-empty-dirs\fP[=\fIcnt\fP], \fB-O\fP \fIcnt\fP
Display oldest empty directories in the filesystem (ordered by modification time).
Optional argument indicates the number of dirs to be returned (default: 20).
.TP
.B
\fB--deferred-rm\fP, \fB-R\fP
Display files to be removed from HSM.
.TP
.B
\fB--dump\fP, \fB-D\fP
Dump all filesystem entries.
.TP
.B
\fB--dump-user\fP \fIusername\fP
Dump all entries for the given user.
.TP
.B
\fB--dump-group\fP \fIgroupname\fP
Dump all entries for the given group.
.TP
.B
\fB--dump-ost\fP \fIost_index\fP|\fIost_set\fP
Dump all entries on the given OST or set of OSTs (e.g. 3,5-8).
.TP
.B
\fB--dump-status\fP \fIstatus_name\fP:\fIstatus_value\fP
Dump all entries with the given status (e.g. lhsm_status:released).
.SH MAINTENANCE SCHEDULING

.TP
.B
\fB--next-maintenance\fP[=date_time]
Set/display time of the next maintenance.
Expected date_time format is yyyymmddHHMM[SS].
.TP
.B
\fB--cancel-maintenance\fP
Cancel the next scheduled maintenance.
.SH FILTER OPTIONS
The following filters can be specified for reports:
.TP
.B
\fB-P\fP \fIpath\fP, \fB--filter-path\fP \fIpath\fP
Display the report only for objects in the given \fIpath\fP.
.TP
.B
\fB-C\fP \fIclass_expr\fP, \fB--filter-class\fP \fIclass_expr\fP
Only report entries in the matching fileclasses.
.TP
.B
\fB--count-min\fP \fIcnt\fP
Display only topuser/userinfo with at least \fIcnt\fP entries
.SH ACCOUNTING REPORT OPTIONS

.TP
.B
\fB--size-profile\fP, \fB--szprof\fP
Display size profile statistics
.TP
.B
\fB--by-count\fP
Sort by count
.TP
.B
\fB--by-avgsize\fP
Sort by average file size
.TP
.B
\fB--by-size-ratio\fP \fIrange\fP, \fB--by-szratio\fP \fIrange\fP
Sort on the ratio of files in the given size-range
\fIrange\fP: <val><sep><val>- or <val><sep><val-1> or <val><sep>inf
<val>: 0, 1, 32, 1K 32K, 1M, 32M, 1G, 32G, 1T
<sep>: ~ or ..
e.g: 1G..inf, 1..1K-, 0..31M
.TP
.B
\fB--reverse\fP
Reverse sort order
.TP
.B
\fB-S\fP, \fB--split-user-groups\fP
Display the report by user AND group
.TP
.B
\fB-F\fP, \fB--force-no-acct\fP
Generate the report without using accounting table (slower)
.SH CONFIG FILE OPTIONS

.TP
.B
\fB-f\fP \fIcfg_file\fP, \fB--config-file\fP=\fIcfg_file\fP
Path to configuration file (or short name).
.SH OUTPUT FORMAT OPTIONS

.TP
.B
\fB-c\fP , \fB--csv\fP
Output stats in a csv-like format for parsing
.TP
.B
\fB-q\fP , \fB--no-header\fP
Don't display column headers/footers
.SH MISCELLANEOUS OPTIONS

.TP
.B
\fB-l\fP \fIloglevel\fP, \fB--log-level\fP=\fIloglevel\fP
Force the log verbosity level (overides configuration value).
Allowed values: CRIT, MAJOR, EVENT, VERB, DEBUG, FULL.
.TP
.B
\fB-h\fP, \fB--help\fP
Display a short help about command line \fIoptions\fP.
.TP
.B
\fB-V\fP, \fB--version\fP
Display version info
.SH SEE ALSO
\fBrobinhood\fP(1), \fBrbh-find\fP(1), \fBrbh-du\fP(1), \fBrbh-diff\fP(1)
