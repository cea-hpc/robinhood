
%include "common.conf"

fs_scan
{
    Ignore
    {
        # ignore ".snapshot" and ".snapdir" directories (don't scan them)
        # and broken files tree "broken"
        type == directory
        and
        ( ( name == ".snapdir" or name == ".snapshot" )
        or
        ( name == "ignoretree" and owner=='root' ) )
    }
}


FileClass   default_file
{
    definition { type == file }

    report = yes;
}

hsm_remove_parameters {
     max_action_count = 200;
     db_result_size_max = 250;
     lru_sort_attr      = none;
}

# Deferred HSM file removal
hsm_remove_rules {
  rule default {
    condition { rm_time > 5 }
  }
}

hsm_remove_trigger {
    trigger_on = periodic;
    check_interval = 20min;
}
